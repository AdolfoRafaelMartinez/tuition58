<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kalshi Trade Bot</title>
    <link rel="stylesheet" href="/styles.css">
</head>
<body>
    <div class="container">
        <h1>Tuition Bot</h1>
        <div class="section">
            <h2>Forecast</h2>
            <% if (weather) { %>
                <p><strong><%= weather.name %>:</strong> <%= weather.temperature %>Â°<%= weather.temperatureUnit %></p>
                <p><strong>Start Time:</strong> <%= new Date(weather.startTime).toLocaleString() %></p>
            <% } else { %>
                <p>Weather data not available.</p>
            <% } %>
        </div>
        <div class="section">
            <h2>Observed</h2>
            <% if (cliWeather && cliWeather.observation_max) { %>
                <p><%= cliWeather.observation_max %> at <%= cliWeather.observation_when %></p>
                <p>Reported at <%= cliWeather.report_when %></p>
            <% } else if (cliWeather && cliWeather.error) { %>
                <p><%= cliWeather.error %></p>
            <% } else { %>
                <p>Maximum temperature data not available.</p>
            <% } %>
        </div>
        <div class="section">
            <h2>Kalshi</h2>
            <% if (kalshi) { %>
                <p><strong>Balance:</strong> $<%= (kalshi.balance / 100).toFixed(2) %></p>
            <% } else { %>
                <p>Kalshi data not available.</p>
            <% } %>
        </div>
        <div class="section">
            <h2>Get Open Markets</h2>
            <form id="market-form">
                <label for="event-ticker">Event Ticker:</label>
                <input type="text" id="event-ticker" name="event-ticker" value="KXHIGHAUS-26JAN26" required>
                <button type="submit">Get Markets</button>
            </form>
            <div id="market-result"></div>
        </div>
        <div class="section">
            <h2>Place an Order</h2>
            <form id="order-form">
                <label for="ticker">Ticker:</label>
                <input type="text" id="ticker" name="ticker" required>
                <label for="action">Action:</label>
                <select id="action" name="action">
                    <option value="buy">Buy</option>
                    <option value="sell">Sell</option>
                </select>
                <label for="side">Side:</label>
                <select id="side" name="side">
                    <option value="yes">Yes</option>
                    <option value="no">No</option>
                </select>
                <label for="yes_price">Yes Price (in cents):</label>
                <input type="number" id="yes_price" name="yes_price" min="1" max="99" required>
                <label for="count">Count:</label>
                <input type="number" id="count" name="count" min="1" required>
                <button type="submit">Place Order</button>
            </form>
            <div id="order-result"></div>
        </div>
    </div>
    <script src="/js/orderForm.js"></script>
    <script src="/js/marketForm.js"></script>
</body>
</html>